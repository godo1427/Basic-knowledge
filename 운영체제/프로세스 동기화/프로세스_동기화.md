## Race Condition

 두 개 이상의 프로세스가 공통 자원을 병행적으로 접근할 때, 공용 데이터에 대한 접근이 어떤 순서인지에 따라서 결과가 달라지는 상황을 말한다. 

* 공유 데이터의 동시 접근은 데이터의 불일치 문제를 발생시킬 수 있다.
* 일관성을 유지하기 위해서는 프로세스간의 실행 순서를 정해주는(동기화) 메커니즘이 필요하다.

## 임계영역

 공용 데이터에 값을 저장하고 읽어오는 코드를 특별히 critical section 이라고 한다.

**동시에 프로세스가 임계영역에 들어가지 않도록 할 수 있다면 Race Condition을 피할 수 있다.**

## 상호배제

 한 프로세스가 공용 데이터를 사용하고 있으면 다른 프로세스가 그 자원을 사용하지 못 하도록 막는 것을 의미한다. 즉, 서로 공용자원의 사용을 막는다는 의미에서 이런 접근을 Mutual Exclusion이라고 한다.

* 장점
  * 혼란이 없고 간단하다.
* 단점
  * **공유 데이터**에 Read라는 명령어를 수행하기 위해 접근하는 프로세서는 100개나 1000개가 동시에 임계 영역(Critical Section)안으로 들어와도 아무런 문제가 없다. (참조만 할 뿐 어떤 변화도 가져오지 않기 때문) 그러나 Write라는 명령어를 수행하기 위한 프로세서는 오직 1개만이 임계영역에 안에서 처리되어야한다.( Write는 공유데이터를 변화시키기 때문) 그러나 상호배제의 방법에서는 이러한 Read와 Write를 구분 짓지않는다. Read도 오랜 기다림을 가져야 한다.
* 해결 방법
  * Kernel자체가 하나의 커다란 임계 영역의 역할을 하는 것.
    * 

## 프로세스 동기화

 공유자원을 동시에 사용하지 못하게 실행을 제어하는 기법을 프로세스간 동기화라고 한다.

* 동기화는 자물쇠와 키의 관계다. 임계 영역은 잠금 상태이고 프로세스는 키를 얻어 임계영역에 진입할 수 있다.
* 또한, 임계영역은 사용 중인 프로세스가 키를 반환할 때 까지 다른 모든 프로세스에 대해 잠김 상태를 유지해야 한다.

* 동기화의 목적은 데이터 일관성을 보장해주는 것이다.
* 여러 프로세서의 접근이 가능한 **공유된 데이터**에 동시에 여러 프로세서들이 접근했을 경우 어떠한 접근 체계를 만들어놓지 않는다면 예측하지 못했던 결과가 나올 가능성이 있다.

## 동기화를 위한 조건(임계 영역의 문제 해결을 위한 세가지 조건)

1. 상호배제: 프로세스 Pi가 임계영역에서 수행 중일 때는 다른 프로세스는 임계영역에서 수행할 수 없다.
2. 진행: 임계영역에 수행하는 프로세스가 없고 여러 프로세스가 임계영역으로 들어가려고 한다면 임계영역으로 들어갈 프로세스가 선정되어야 한다.
3. 제한된 대기: 한 프로세스가 임계영역을 요청하였다면 유한시간 대기 후에는 임계영역에 진입해야 한다.